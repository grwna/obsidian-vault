DBMS already performs optimization, however, there are still considerable room for improvement.

The majority of current database performance problems are poorly written SQL.
>[!tip]
>Most recommendations in the material are related to the **SELECT** statement

Recommendation:
- Index tuning
- Conditional expressions
- Query formulation

# Index Tuning
[[4. Indexing|Indexes]] are used when operations are related to an indexed column. 
However, you cant always use index to improve performance:
- In some DBMS indexes are ignored when using **functions**
- Too many indexes will slow down CRUD operations
- Some query optimizers may use index non-efficiently

# Conditional Expressions
These are filters (WHERE, HAVING).

**Things to note**:
- Numeric comparisons are faster
- Equality faster than inequality

**Common Practices**
- Avoid functions/calculations
- Write equality first when using multiple conditionals
- If using many **AND**, write condition most likely to be false first
- If using many **OR**, write condition most likely to be true first
- Same as point 1, but dont use NOT()

# Query Formulation

**Steps of formulating a query**
- Identify what columns and computations are required
	- Only SELECT columns you need
- Identify the source table
	- Minimize joining tables
- Determine how to join tables
	- Some cases, use natural join, others, use outer join
- Determine what selection criteria is needed
	- Can be simple or complex
- Determine in what order to display the output
	- ORDER BY is one of the most expensive operations

# Extras
## Joins vs Cartesian Product
Joins are equal to Cartesian product with predicates in the WHERE clause

Cartesian product multiplies rows of one table with those of another table
Joins only takes rows with relevant (matching) columns

## Joins vs Subqueries (incl. CTEs)
Joins are often preferred over subqueries because it is faster for large datasets
Subqueries can be better for small datasets

## SQL Explain
Use EXPLAIN to analyze execution plan

## Optimizer Hints
Hints by programmer for the optimizer to optimize a certain way (useful for when the optimizer doesn't choose the best execution plan)